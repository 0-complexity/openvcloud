
h2. Manage Machine
{{html:
<style>
    .modal .modal-header, .modal .modal-footer {
        display: block;
    }
    .modal .modal-body {
        border: 0px;
    }
</style>
<tabset>
      <tab id="actions" heading="Machine actions" active="tabactive.actions">
        <div id="actions" class="tab-pane active">
            <div class="row">
                <div class="span6">
                    <ul class="list">
                        <li>
                            <h5>Name</h5>
                            {[machine.name]}
                        </li>
                        <li>
                            <h5>IP Address</h5>
                            {[machine.interfaces[0].ipAddress]}
                        </li>
                        <li>
                            <h5>Status</h5>
                            {[machine.status]}
                        </li>
                        <li>
                            <h5>CPU</h5>
                            {[machineinfo.size.vcpus]} <ng-pluralize count="machineinfo.size.vcpus" when="{'one': 'core', 'other': 'cores'}"></ng-pluralize>
                        </li>
                        <li>
                            <h5>Memory</h5>
                            {[numeral(machineinfo.size.memory * 1024 *1024).format('0 b')]}
                        </li>
                        <li>
                            <h5>Storage</h5>
                            <!--{[machine.storage]}--> {[ numeral(machineinfo.storage * 1024 * 1024 * 1024).format('0 b') ]}
                        </li>
                    </ul>
                </div>
                <div class="span3 actions">
                    <h4>Actions</h4>
                    <ul class="actions">
                        <li ng-show="machine.status == 'HALTED'"> 
                            <a ng-click="start()">
                                <i class="icon-play-circle"></i>
                                Start
                            </a>
                        </li>
                        <li ng-show="machine.status == 'PAUSED'"> 
                            <a ng-click="resume()">
                                <i class="icon-play-circle"></i>
                                Resume
                            </a>
                        </li>

                        <li ng-show="machine.status == 'RUNNING'">
                            <a ng-click="stop()">
                                <i class="icon-stop "></i>
                                Stop
                            </a>
                        </li>
                        <li ng-show="machine.status == 'RUNNING'">
                            <a ng-click="pause()">
                                <i class=" icon-pause"></i>
                                Pause
                            </a>
                        </li>
                        <li>
                            <a ng-click="createSnapshot()"> 
                                <i class="icon-camera"></i>
                                Take Snapshot
                            </a>

			<script type="text/ng-template" id="createSnapshotDialog.html"> 
                            <form name="form" ng-submit="submit(form)">
                                <div class="modal-header">
                                    <h3>Take snapshot</h3>
                                </div>
                                <div class="modal-body">
                                    <ul>
                                        Name:
                                        <input ng-model="form.newSnapshotName" type="text" class="input-large" placeholder="Name"/>
                                    </ul>
                                </div>
                                 <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary ok">Ok</button>
                                    <button type="button" class="btn cancel" ng-click="cancel()">Cancel</button>
                                </div>
                                </form>
			</script>

                        </li>
                        <li>
                            <a ng-click="renameMachine()">
                                <i class="icon-edit"></i>
                                Rename
                            </a>
                            
							<script type="text/ng-template" id="renameMachineDialog.html"> 
                                <div class="modal-header">
                                    <h3>Rename</h3>
                                </div>
                                <div class="modal-body">
                                    <ul>
                                        Name: <input ng-model="oldName" type="text" class="input-large" placeholder="Name"/>
                                    </ul>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-primary ok" ng-click="ok()">Ok</button>
                                    <button class="btn cancel" ng-click="cancel()">Cancel</button>
                                </div>
                             </script>   
                                
                        </li>
                        <li>
                            <a ng-click="destroy()">
                                <i class=" icon-remove-circle"></i>
                                Destroy
                            </a>
                        </li>
                        <li>
                            <a onclick="location.reload()">
                                <i class="icon-undo"></i>
                                Rebuild
                            </a>
                        </li>
                        <li>
                            <a ng-click="cloneMachine()">
                                <i class="icon-copy"></i>
                                Clone
                            </a>
							<script type="text/ng-template" id="cloneMachineDialog.html"> 
                                <div class="modal-header">
                                    <h3>Clone</h3>
                                </div>
                                <div class="modal-body">
                                    <ul>
                                        Name: <input ng-model="clone.name" type="text" class="input-large" />
                                    </ul>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-primary ok" ng-click="ok()">Clone</button>
                                    <button class="btn cancel" ng-click="cancel()">Cancel</button>
                                </div>
                            </script>
                        </li>
                        <li>
                            <a>
                                <i class="icon-download"></i>
                                Export
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
      </tab>
      <tab id="console" heading="Console" active="tabactive.console">
        <div id="console" class="tab-pane" ng-controller="ConsoleController">
            <div ng-model="machineConsoleUrlResult">
                <div class="error" ng-show="!!machineConsoleUrlResult.error">
                    The machine bucket is not running.
                </div>
				<div novncwindow connectioninfo="novnc_connectioninfo">
		</div>
            </div>          
        </div>
      </tab>
      <tab heading="Snapshots">


        <div id="snapshots" class="tab-pane">
            <h3>Restore from Snapshot</h3>
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Date</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="snapshot in snapshots.snapshots">
                        <td width="89%">{[snapshot.name]}</td>
                        <td style="white-space:nowrap" >
                            {[snapshot.date]}
                        </td>
                        <td>
                            <a style="cursor: pointer" ng-click="rollbackSnapshot(snapshot)">Rollback</a>
                            <a style="cursor: pointer" ng-click="deleteSnapshot(snapshot)">Delete</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
      </tab>
      <tab heading="Change Log">
        <div id="logging" class="tab-pane">
            {{include:bucket_history}}
        </div>
      </tab>
</tabset>

}}
