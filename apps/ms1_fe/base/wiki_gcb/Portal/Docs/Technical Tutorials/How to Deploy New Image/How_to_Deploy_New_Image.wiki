h1. this tutorial is shows you how you can deploy new Os image

1- Clone openvcloud_ays repo  >  git clone https://git.aydo.com/0-complexity/openvcloud_ays.git

2- cd openvcloud_ays , will find all available ays images , to create a new one you have to copy any ays image directory with the content to your new image name directory
    
      e.g cp -rf image_ubuntu-1404-x64 image_windows2012 , will find 3 files under image_windows2012
                    services.hrd  >>  this file has required info about ftp server that hold your image
                       set url : << your ftp server Url  ,, e.g url:'ftp://ftp.test.com/',
                       
                       set source : << the source location of your image inside the ftp ,, e.g  source:'/images/image_windows2012',
                       
                       set checkmd5: 'true',
                    
                       dest:'/opt/jumpscale7/var/tmp/templates/$YOUR IMAGE DISK NAME e.g image_windows2012.qcow2 ',
                    
                    actions.py   >>  you need to update some info with your new info
                        set   name = 'image_windows2012'   << your new image name
                       
                        set   imagename = 'image_windows2012.qcow2'  << your new image disk name
                       
                        update registerImage(serviceObj, name, imagename, 'Linux', 10)   <<  in case of windows change Linux to Windows , last parameter represent the minimum image size , in case of windows image you have to set at least  20 , otherwise 10 is ok for linux images
                    
                    
                    instance.hrd  << leave it empty
                    
3 -  save ,commit and push your changes to the repo

4 -  to install the image you need to go to ovc_git machine and do the following
           
            1 - ays mdupdate << update ays metadata  

            1- cd /opt/code/git/openvcloudEnvironments/$yourENV  e.g /opt/code/git/openvcloudEnvironments/du-conv-2
            
            2- ays install -n   image_windows2012 --targettype node.ssh --targetname du-conv-2-02
            
5- sync your image 
   
     go to grid portal >> location >> choose action >> sync availabe images >> confirm
 
 Note : if this is your first image you need to sync sizes as well 
     
     go to grid portal >> location >> choose action >> sync availabe sizes >> confirm
     
6- your image availablilty on cpu nodes
  
      go to grid portal >> images >> choose your image >> choose action >> check availablity >> select nodes that you want the image be available on