@usedefault
h2. Credit
{{html:  <hr>


<div ng-app="myApp" ng-controller="BillingController">
 }}

{{html:

<div class="row" style="height: 100%;">
    <div class="row" style="height: 30%;" >
        <div class="span3" align="center">
            <h2 ng-model="availableCredit">{[credit | currency:"$"]}</h2>
            Available credit
        </div>
        <div class="span6" style="border-left: thin;border-left-style: dotted; border-left-color: gray; height: 100%">
            <form class="form-horizontal" role="form">
                <div class="control-group">
                    <label for="creditToAddInput" class="control-label">Add Credit</label>
                    <div class="controls">
                        <div class="input-prepend">
                            <span class="add-on">$</span>
                            <input type="number" id="creditToAddInput" ng-model="creditToAdd" class="input-medium span1">
                        </div>
                    </div>
                </div>
                <div class="control-group">
                    <label for="paymentbuttons" class="control-label">Pay with</label>
                    <div class="controls" id="paymentbuttons">
                            <a class="btn btn-small"  ng-click="payWithBitcoin()">
                                <img src="/$$space/.files/img/payment/Bitcoin-logo-with-text.png" alt="Bitcoin" style="
                                        height: 20px;
                                        width: 90px;
                                        padding: 3px;"/>
                            </a><br/>
                            <a style="margin-top: 5px;" class="btn btn-small" ng-click="payWithLitecoin()">
                                <img src="/$$space/.files/img/payment/Litecoin-logo-with-text.png" alt="Litecoin" style="
                                        height: 24px;
                                        width: 90px;
                                        padding-top: 2px;
                                        padding-bottom: 0px;
                                        padding-left: 1px;
                                        padding-right: 5px;"/>
                            </a>
                    </div>
                </div>
            </form>


<script type="text/ng-template" id="bitcoinModal.html">
        <div class="modal-header">
            <h3><img src="/$$space/.files/img/payment/Bitcoin-logo-with-text.png"/> payment</h3>
        </div>
        <div class="modal-body">
                <div ng-model="creditToAdd" class="row">
                    <div class="col-sm-3">Credit:</div><div>{[creditToAdd  | currency:"$"]}</div>
                </div>
                <div class="row" ng-model="paymentinfo">
                    <div class="span3">Conversionrate:</div><div>{[paymentinfo.value | currency:"$"]}/BTC</div>
                </div>
                <div class="row" ng-model="totalBtc">
                    <div class="span3"><h5>Total:</h5></div><div><h5>{[totalBtc]} BTC</h5></div>
                </div>
                <div class="row">
                    <div class="span6" ng-model="paymenturl">
                        <a ng-href="{[paymenturl]}">
                        <p ng-model="paymentinfo">{[paymentinfo.address]}</p>
                        </a>
                    </div>
                </div>
        </div>
        <div class="modal-footer">
            
            <button class="btn btn-primary" ng-click="ok()">OK</button>
        </div>
    </script>

<script type="text/ng-template" id="litecoinModal.html">
        <div class="modal-header">
            <h3><img src="/$$space/.files/img/payment/Litecoin-logo-with-text.png"/> payment</h3>
        </div>
        <div class="modal-body">
                <div ng-model="creditToAdd" class="row">
                    <div class="span3">Credit:</div><div>{[creditToAdd  | currency:"$"]}</div>
                </div>
                <div class="row" ng-model="paymentinfo">
                    <div class="span3">Conversionrate:</div><div>{[paymentinfo.value | currency:"$"]}/LTC</div>
                </div>
                <div class="row" ng-model="totalLtc">
                    <div class="span3"><h5>Total:</h5></div><div><h5>{[totalLtc]} LTC</h5></div>
                </div>
                <div class="row">
                    <div class="span6" ng-model="paymenturl">
                        <a ng-href="{[paymenturl]}">
                        <p ng-model="paymentinfo">{[paymentinfo.address]}</p>
                        </a>
                    </div>
                </div>
        </div>
        <div class="modal-footer">
            
            <button class="btn btn-primary" ng-click="ok()">OK</button>
        </div>
    </script>


        </div>
    </div>
</div>
}}

h3. History
{{html:
<table class="table table-striped table-bordered" ng-cloak ng-show="transactions">
    <thead>
        <tr>
            <th>Time</th>
            <th>Amount</th>
            <th>Credit</th>
            <th>Status</th>
            <th>&nbsp;</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="transaction in transactions">
            <td>{[transaction.time * 1000 | date]}</td>
            <td>{[transaction.amount | currency:' ' + transaction.currency + ' ']}</td>
            <td>{[transaction.credit | currency:"$"]}</td>
            <td>{[transaction.status]}</td>
            <td>{[transaction.comment]}</td>
        </tr>
    </tbody>
</table>
</div>

 <script src="/$$space/.files/js/controllers/billing.js" type="text/javascript"></script>
   
}}