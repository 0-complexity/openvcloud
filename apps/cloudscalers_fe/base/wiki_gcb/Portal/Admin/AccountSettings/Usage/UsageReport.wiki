@usedefault
{{html:
	<a href="AccountSettings"><i class="fa fa-arrow-left mrm mbl"></i>Back</a>


<div ng-controller="UsageController">

	<h1>Usage report {[millisToUTCDate(usagereport.fromTime  * 1000) | date:'MMMM yyyy']}</h1>
	{[ usagereport.totalCost | currency:"$" ]}



			<hr />
			<div ng-repeat="cloudspace in usagereport.cloudspaces">
                                <div class="row">
                                        <div class="span6">
                                                <div class="mtl">Cloudspace {[ cloudspace.name ]}</div>
                                        </div>
                                        <div class="span6">
                                                <div class="mtl">Cost: {[ cloudspace.totalCost | currency:"$" ]}</div>
                                        </div>
				</div>
				<table class="table table-striped table-bordered mtl">
				    <thead>
				        <tr>
				            <th>
					            <a href="#" ng-click="orderByField='name'; reverseSort = !reverseSort">Machine
					            	<span ng-show="orderByField == 'name'"><span ng-show="!reverseSort">^</span><span ng-show="reverseSort" class="sTxt">v</span></span>
					            </a>
				            </th>
				            <th>
				            	<a href="#" ng-click="orderByField='cost'; reverseSort = !reverseSort">Cost
					            	<span ng-show="orderByField == 'cost'"><span ng-show="!reverseSort">^</span><span ng-show="reverseSort" class="sTxt">v</span></span>
					            </a>
					        </th>
				            <th>
				            	<a href="#" ng-click="orderByField='creationTime'; reverseSort = !reverseSort">Created at
					            	<span ng-show="orderByField == 'creationTime'"><span ng-show="!reverseSort">^</span><span ng-show="reverseSort" class="sTxt">v</span></span>
					            </a>
				            </th>
				            <th>
				            	<a href="#" ng-click="orderByField='deletionTime'; reverseSort = !reverseSort">Destroyed at
					            	<span ng-show="orderByField == 'deletionTime'"><span ng-show="!reverseSort">^</span><span ng-show="reverseSort" class="sTxt">v</span></span>
					            </a>
				            </th>
				        </tr>
				    </thead>
				    <tbody>
				        <tr ng-repeat="machine in cloudspace.machines | orderBy:orderByField:reverseSort">
				            <td>{[ machine.name ]}</td>
				            <td>{[ machine.cost | currency:"$" ]}</td>
				            <td>{[ machine.creationTime * 1000 | date:'dd/MM/yyyy h:mma' ]}</td>
				            <td>
				            	<span ng-show="machine.deletionTime > 0">{[ machine.deletionTime * 1000 | date:'dd/MM/yyyy h:mma' ]}</span>
				            </td>
					     </tr>
					</tbody>
				</table>
				<hr />
			</div>
</div>
<script src="/$$space/.files/js/controllers/Billing/UsageController.js" type="text/javascript"></script>
}}
