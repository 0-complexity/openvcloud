@usedefault
h1. Usage report

{{html:


<div ng-controller="UsageController">
	<!-- {[usagereport]} -->
	<div ng-repeat="report in usagereport">
			<div class="row">
				<div class="span6">
					<h2>From Time</h2>
					{[ report.fromTime  * 1000 | date:'dd/MM/yyyy h:mma' ]}
				</div>
				<div class="span6">
					<h2>Until Time</h2> {[ report.untilTime  * 1000 | date:'dd/MM/yyyy h:mma' ]}
				</div>
				<div class="span6">
					<h2>Total cost</h2> {[ report.totalCost | currency:"USD$" ]}
				</div>
				<div ng-show="report.lastupdatedTime != 0" class="span6">
					<h2>Last updated time</h2> {[ report.lastupdatedTime ]}
				</div>	
			</div>
			<hr />
			<div ng-repeat="cloudspace in report.cloudspaces">
				<div class="row">
					<div class="span6">
						<h2>Cloudspace name</h2>
						{[ cloudspace.name ]}
					</div>
					<div class="span6">
						<h2>Cloudspace total cost</h2>
						{[ cloudspace.totalCost ]}
					</div>				
				</div>
				<hr />

				<table class="table table-striped table-bordered">
				    <thead>
				        <tr>
				            <th>Machine name</th>
				            <th>Cost</th>
				            <th>Creation time</th>
				            <th>Deletion time</th>
				        </tr>
				    </thead>
				    <tbody>
				        <tr ng-repeat="machine in cloudspace.machines">
				            <td>{[ machine.name ]}</td>
				            <td>{[ machine.cost ]}</td>
				            <td>{[ machine.creationTime * 1000 | date:'dd/MM/yyyy h:mma' ]}</td>
				            <td>
				            	<span ng-show="machine.deletiontime.length">{[ machine.deletiontime * 1000 | date:'dd/MM/yyyy h:mma' ]}</span>
				            </td>
					     </tr>
					</tbody>
				</table>

			</div>
	</div>
</div>
<script src="/$$space/.files/js/controllers/Billing/UsageController.js" type="text/javascript"></script>
}}
