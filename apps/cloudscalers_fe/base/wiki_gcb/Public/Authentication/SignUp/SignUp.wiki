@template access
{{html:
<div class="account-container stacked upMargin" ng-app="cloudscalers" ng-controller="SessionController">
    <div class="content clearfix padding"  ng-controller="SignUpController">
        <div class="login-symbol signUpForm">
        <h1 class="white-header txt-white txt-bold txt-center">Sign Up</h1>
        <div class="login-fields margin-bottom-medium">
            <form name="reg" ng-submit="signUp()"> <!-- name should be "reg" for some browsers to recognize it as a registration form -->
                <div class="field ng-hide ng-cloak" ng-show="promocode">
                  <div class="loginField">
                    <label class="loginFieldName loginFieldName2" for="promocode">Promo code:</label>
                    <div class="inputWrap">
                          <label class="loginFieldName loginFieldName2" id="promocode">{[promocode]}</label>
                    </div>
                  </div>
                </div>

                <div class="alert alert-error ng-hide" ng-show="!isPasswordConfirmed">The passwords do not match.</div>
                <div class="alert alert-error ng-hide" ng-show="signUpError">{[signUpError]}</div>

                <div class="field">
                  <div class="loginField">
                    <label class="loginFieldName loginFieldName2" for="username">Username:</label>
                    <div class="inputWrap">
                          <input class="inputLogin ng-pristine ng-valid" type="text" id="username" name="username" value=""  ng-model="user.username" ng-pattern="/^[a-z0-9]{0,20}$/"/>
                        <div class="alert alert-error ng-hide" ng-show="reg.username.$error.pattern">The username may not exceed 20 characters and may only contain lowercase a-z and 0-9</div>
                    </div>
                  </div>
                </div>

                <div class="field">
                  <div class="loginField">
                    <label class="loginFieldName loginFieldName2" for="name">Display name:</label>
                    <div class="inputWrap">
                      <input class="inputLogin ng-pristine ng-valid" type="text" id="name" name="name" value=""  ng-model="user.name" />
                    </div>
                  </div>
                </div>

                <div class="field">
                  <div class="loginField">
                    <label class="loginFieldName loginFieldName2" for="email">E-mail address:</label>
                    <div class="input-prepend">
                    <div class="inputWrap">
                    	<input class="inputLogin ng-pristine ng-valid" type="text" id="email" value=""  ng-model="email" />
                        <input class="hidden" type="text" id="email" value=""  ng-model="user.email" />
                    </div>
                    </div>
                  </div>
                </div>

                <div class="field">
                  <div class="loginField">
                    <label class="loginFieldName loginFieldName2" for="password">Password:</label>
                    <div class="input-prepend">
  		              <div class="inputWrap">
                            <input class="inputLogin ng-pristine ng-valid" type="password" id="password_field" name="" value=""  ng-model="user.password"/>
                        </div>
                    </div>
                  </div>
                </div>

                <div class="field">
                <div class="loginField">
                    <label class="loginFieldName loginFieldName2" for="password">Confirm password:</label>
                    <div class="input-prepend">
  						<div class="inputWrap">
                              <input class="inputLogin ng-pristine ng-valid" type="password" id="password_field_confirmation" name="password_confirmation" value=""
                        	        ng-model="passwordConfirmation" ng-blur="validatePasswordConfirmation()"/>
                          </div>
                     </div>
                </div>
                </div>
                <div id="flags-container" class="field">
                  <label class="loginFieldName loginFieldName2">Preferred Location:</label>
                  <div class="margin-top-large">
                        <ul class="flags-list margin-top-large mll row">
                          <li class="margin-right-medium" ng-repeat="location in locations" ng-class="{ 'selected': selectedLocation == location.locationCode }" ng-click="changeLocation(location)">
                              <a href="" class="{[ 'flag-' + location.flag ]}"></a>
                              <span class="mts block cursor-default">{[ location.name ]}</span>
                          </li>
                      </ul>
                    </div>
                </div>
            <a id="openTerms" ng-click="openTerms()">You need to accept the General Terms & Conditions to proceed</a>
            <script type="text/ng-template" id="termsDialog.html">
                <div class="modal-header modal-header2">
                    <h2>General Terms & Conditions <br>
                        <span class="note1">Scroll down and check the "I have read ..." box before hitting accept.</span>
                    </h2>

                </div>
                <div class="modal-body">
                  <div id="terms" class="width-full">
                }}
                {{include:Disclaimer}}
                {{html:
                  </div>
                  <div class="margin-top-large">
                    <input id="accept-terms" class="left margin-right-small" type="checkbox" onClick="acceptTermsChanged(this);">
                    <label class="txt-italic txt-12" for="accept-terms">I have read and understood the above General Terms and Conditions</label>
                </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary ok mainButton" ng-click="cancel()">Accept</button>
                </div>
            </script>
            </div>
              <input class="btn btn-primary btn-lg btn-block primaryMine"  type="submit" ng-disabled="!canSignUp" value="Sign Up" />

              <div class="txt-right margin-top-medium txt-15">
          <span class="txt-center width-full inline-block margin-vertical-medium">Already a member? <a class="login-url" href="/$$space/login">Login</a></span>

        </div>

        </form>

        </div>
    </div>
</div>


}}
