@usedefault
@@title Stack: ${name}
{{stack_data: id:$$id}}
{% if id %}

h3. Stack: ${name}
{{actions:

{% if status not in ('DISABLED', 'ENABLED') %}
- display: Online
  action: /restmachine/cloudbroker/computenode/enable
  data:
   id: $$id
   gid: ${gid}
  input:
   - message
{% endif %}

{% if status not in ('DISABLED',) %}
- display: Disable
  action: /restmachine/cloudbroker/computenode/disable
  data:
   id: $$id
   gid: ${gid}
  input:
   - type: message
     messagetype: warning
     message: Disabling Node will put storage offline and move all VMs to another node!
   - message
{% endif %}

{% if status == 'ENABLED' %}
- display: Offline
  action: /restmachine/cloudbroker/computenode/setStatus
  data:
   id: $$id
   gid: ${gid}
   status: OFFLINE
  input:
   - type: message
     messagetype: warning
     message: Putting Node offline will prevent new Virtual Machines to be created on this node!</br>
              All Virtual Machines running on this node will be turned off!
   - message
{% endif %}
}}

* *ApiURL*: ${apiUrl}
* *Description*: ${descr}
* *ReferenceId*: [${gid}:${referenceId}|/grid/Grid Node?id=${referenceId}&gid=${gid}]
* *Status*: ${status}

h3. Images:

{{images: stackid:$$id}}

h3. Virtual Machines:

{{vmachines: stackid:$$id}}

{% else %}
No Stack provided
{% endif %}
